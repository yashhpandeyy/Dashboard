(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{285:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var a=s(5155),n=s(2115),r=s(4253),o=s(2085),l=s(9434);let i=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:s,variant:n,size:o,asChild:d=!1,...c}=e,u=d?r.DX:"button";return(0,a.jsx)(u,{className:(0,l.cn)(i({variant:n,size:o,className:s})),ref:t,...c})});d.displayName="Button"},2523:(e,t,s)=>{"use strict";s.d(t,{p:()=>o});var a=s(5155),n=s(2115),r=s(9434);let o=n.forwardRef((e,t)=>{let{className:s,type:n,...o}=e;return(0,a.jsx)("input",{type:n,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...o})});o.displayName="Input"},4917:(e,t,s)=>{Promise.resolve().then(s.bind(s,6824))},6824:(e,t,s)=>{"use strict";s.d(t,{default:()=>Y});var a=s(5155),n=s(2115),r=s(295),o=s(8864),l=s(154),i=s(285),d=s(9434);function c(e){var t,s,c,u,m,f;let{widget:h,children:g,updateWidgetPosition:p,updateWidgetSize:x,toggleWidgetLock:b,toggleWidgetBackground:v,onDragStart:w,onDragEnd:y}=e,j=(0,n.useRef)(null),N=(0,n.useRef)(null),k=(0,n.useRef)(null),S=(0,n.useRef)(null),C=e=>{h.isLocked||0!==e.button||(w(),j.current={x:e.clientX,y:e.clientY},N.current=h.position,document.addEventListener("mousemove",A),document.addEventListener("mouseup",D))},A=e=>{if(!j.current||!N.current)return;let t=e.clientX-j.current.x,s=e.clientY-j.current.y,a=N.current.x+t,n=N.current.y+s;p(h.id,{x:a,y:n})},D=()=>{y(),j.current=null,N.current=null,document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",D)},L=e=>{if(!k.current||!S.current)return;let t=e.clientX-k.current.x,s=e.clientY-k.current.y,a=Math.max(200,S.current.width+t),n=Math.max(80,S.current.height+s);x(h.id,{width:a,height:n})},E=()=>{y(),k.current=null,S.current=null,document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",E)},T=null!=(c=h.isLocked)&&c,z=null!=(u=h.backgroundDisabled)&&u;return(0,a.jsxs)("div",{className:(0,d.cn)("absolute flex flex-col rounded-xl transition-all",!z&&"bg-black/5 backdrop-blur-lg border border-white/10 shadow-lg",!T&&"cursor-grab active:cursor-grabbing"),style:{transform:"translate(".concat(h.position.x,"px, ").concat(h.position.y,"px)"),width:"".concat(null!=(m=null==(t=h.size)?void 0:t.width)?m:280,"px"),height:"".concat(null!=(f=null==(s=h.size)?void 0:s.height)?f:150,"px")},onMouseDown:C,onDoubleClick:()=>{v(h.id)},children:[!T&&(0,a.jsx)("div",{className:"absolute top-1/2 left-2 -translate-y-1/2 cursor-grab active:cursor-grabbing z-10",onMouseDown:e=>{e.stopPropagation(),C(e)},children:(0,a.jsx)(r.A,{className:"h-5 w-5 text-muted-foreground/50"})}),!z&&(0,a.jsxs)(i.$,{variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-7 w-7 z-10",onClick:e=>{e.stopPropagation(),b(h.id)},onMouseDown:e=>e.stopPropagation(),children:[T?(0,a.jsx)(o.A,{className:"h-4 w-4"}):(0,a.jsx)(l.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{className:"sr-only",children:[T?"Unlock":"Lock"," widget"]})]}),(0,a.jsx)("div",{className:"flex-grow h-full overflow-hidden rounded-xl",children:g}),!T&&(0,a.jsx)("div",{className:"absolute bottom-0 right-0 h-4 w-4 cursor-se-resize touch-none z-10",onMouseDown:e=>{e.stopPropagation(),h.isLocked||0!==e.button||(w(),k.current={x:e.clientX,y:e.clientY},S.current=h.size,document.addEventListener("mousemove",L),document.addEventListener("mouseup",E))}})]})}var u=s(5821),m=s(2085),f=s(5318);let h=u.bL,g=u.l9;u.bm;let p=u.ZL,x=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(u.hJ,{className:(0,d.cn)("fixed inset-0 z-50 bg-black/60  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...n,ref:t})});x.displayName=u.hJ.displayName;let b=(0,m.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),v=n.forwardRef((e,t)=>{let{side:s="right",className:n,children:r,...o}=e;return(0,a.jsxs)(p,{children:[(0,a.jsx)(x,{}),(0,a.jsxs)(u.UC,{ref:t,className:(0,d.cn)(b({side:s}),n),...o,children:[r,(0,a.jsxs)(u.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(f.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});v.displayName=u.UC.displayName;let w=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})};w.displayName="SheetHeader";let y=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(u.hE,{ref:t,className:(0,d.cn)("text-lg font-semibold text-foreground",s),...n})});y.displayName=u.hE.displayName;let j=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(u.VY,{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",s),...n})});j.displayName=u.VY.displayName;var N=s(7648),k=s(5074),S=s(6318),C=s(9099),A=s(8341),D=s(4301);let L=[{type:"Clock",name:"Clock",icon:N.A},{type:"Search",name:"Search Bar",icon:k.A},{type:"Tabs",name:"Link Tabs",icon:S.A},{type:"Countdown",name:"Day End Countdown",icon:C.A},{type:"Link",name:"Bookmark Link",icon:S.A}];function E(e){let{addWidget:t}=e;return(0,a.jsxs)(h,{children:[(0,a.jsx)(g,{asChild:!0,children:(0,a.jsxs)(i.$,{variant:"ghost",size:"icon",className:"absolute top-4 left-4 z-20",children:[(0,a.jsx)(A.A,{className:"h-6 w-6"}),(0,a.jsx)("span",{className:"sr-only",children:"Open Widgets Menu"})]})}),(0,a.jsxs)(v,{side:"left",className:"w-[350px] sm:w-[400px] bg-background/80 backdrop-blur-xl border-primary/20",children:[(0,a.jsxs)(w,{children:[(0,a.jsx)(y,{children:"Add Widgets"}),(0,a.jsx)(j,{children:"Click a widget to add it to your dashboard."})]}),(0,a.jsx)("div",{className:"py-4 space-y-2",children:L.map(e=>{let{type:s,name:n,icon:r}=e;return(0,a.jsxs)(i.$,{variant:"ghost",className:"w-full justify-start text-base h-12",onClick:()=>t(s),children:[(0,a.jsx)(r,{className:"mr-3 h-5 w-5"}),n,(0,a.jsx)(D.A,{className:"ml-auto h-5 w-5 text-primary"})]},s)})})]})]})}var T=s(2523);let z=[{name:"Code",url:"https://github.com"},{name:"Design",url:"https://dribbble.com"},{name:"Social",url:"https://twitter.com"},{name:"News",url:"https://news.ycombinator.com"}];var _=s(518),M=s(8271),O=s(1840),I=s(9119),R=s(7481),P=s(7223);function U(e){let{isDragging:t,onDrop:s}=e,[r,o]=(0,n.useState)(!1);return(0,a.jsx)("div",{onMouseUp:()=>{t&&s(),o(!1)},onMouseOver:()=>o(!0),onMouseLeave:()=>o(!1),className:(0,d.cn)("fixed bottom-6 left-6 z-20 flex h-16 w-16 items-center justify-center rounded-full border-2 border-dashed border-destructive/50 bg-destructive/10 text-destructive/80 transition-all duration-300",t?"opacity-100 scale-100":"opacity-0 scale-75 pointer-events-none",r&&t&&"scale-125 bg-destructive/20 border-solid"),children:(0,a.jsx)(P.A,{className:"h-7 w-7"})})}let $={Clock:function(){var e,t;let[s,r]=(0,n.useState)(null);(0,n.useEffect)(()=>{r(new Date);let e=setInterval(()=>{r(new Date)},1e3);return()=>{clearInterval(e)}},[]);let o=null!=(e=null==s?void 0:s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))?e:"--:--",l=null!=(t=null==s?void 0:s.toLocaleDateString([],{weekday:"long",year:"numeric",month:"long",day:"numeric"}))?t:"Loading...";return(0,a.jsx)("div",{className:"flex h-full w-full items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-5xl font-bold tracking-wider text-foreground tabular-nums",children:o}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:l})]})})},Search:function(){let[e,t]=(0,n.useState)(""),s=(0,n.useRef)(null),r=e=>{if(e){var a;let n="https://www.google.com/search?q=".concat(encodeURIComponent(e));window.open(n,"_blank"),t(""),null==(a=s.current)||a.reset()}};return(0,a.jsx)("div",{className:"flex h-full w-full flex-col justify-center p-4",children:(0,a.jsxs)("form",{ref:s,onSubmit:t=>{t.preventDefault(),r(e)},className:"flex w-full items-center gap-2",children:[(0,a.jsx)(T.p,{type:"search",name:"search",placeholder:"Search the web...",className:"flex-grow bg-black/30 text-base",value:e,onChange:e=>t(e.target.value),autoComplete:"off"}),(0,a.jsxs)(i.$,{type:"submit",size:"icon",variant:"secondary",children:[(0,a.jsx)(k.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"sr-only",children:"Search"})]})]})})},Tabs:function(){return(0,a.jsx)("div",{className:"flex h-full w-full flex-col justify-center p-4",children:(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:z.map(e=>(0,a.jsx)(i.$,{variant:"secondary",className:"h-12 text-base",onClick:()=>window.open(e.url,"_blank"),children:e.name},e.name))})})},Countdown:function(){let[e,t]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e,s=()=>{let a=new Date,n=new Date(a);n.setHours(23,59,59,999);let r=n.getTime()-a.getTime();if(r>0){let e=Math.floor(r/6e4),s=Math.floor(r/1e3%60),a=Math.floor(r%1e3/10),n=e.toString().padStart(2,"0"),o=s.toString().padStart(2,"0"),l=a.toString().padStart(2,"0");t("".concat(n,":").concat(o,":").concat(l))}else t("00:00:00");e=requestAnimationFrame(s)};return e=requestAnimationFrame(s),()=>{cancelAnimationFrame(e)}},[]),(0,a.jsx)("div",{className:"flex h-full w-full items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-4xl font-bold tracking-wider text-foreground tabular-nums",children:null!=e?e:"Loading..."}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Until Day End"})]})})},Link:function(e){let{widget:t,updateWidgetData:s}=e,{data:r,isLocked:o,backgroundDisabled:l}=t,[d,c]=(0,n.useState)(!(null==r?void 0:r.url)),[u,m]=(0,n.useState)((null==r?void 0:r.title)||""),[f,h]=(0,n.useState)((null==r?void 0:r.url)||""),g=(null==r?void 0:r.url)?(e=>{try{let t=new URL(e);return"https://www.google.com/s2/favicons?domain=".concat(t.hostname,"&sz=64")}catch(e){return null}})(r.url):null;return d?(0,a.jsxs)("div",{className:"flex h-full w-full flex-col justify-center gap-2 p-4",children:[(0,a.jsx)("h3",{className:"font-medium text-center text-foreground pb-1",children:"Bookmark"}),(0,a.jsx)(T.p,{placeholder:"Title",value:u,onChange:e=>m(e.target.value),className:"bg-black/30",autoFocus:!0}),(0,a.jsx)(T.p,{placeholder:"https://example.com",value:f,onChange:e=>h(e.target.value),className:"bg-black/30"}),(0,a.jsxs)(i.$,{onClick:()=>{if(u&&f){let e=f;/^https?:\/\//i.test(e)||(e="https://"+e),s({title:u,url:e}),c(!1)}},size:"sm",variant:"secondary",className:"mt-1",children:[(0,a.jsx)(_.A,{className:"mr-2 h-4 w-4"}),"Save"]})]}):(0,a.jsxs)("div",{className:"group relative flex h-full w-full flex-col justify-between p-4",onClick:()=>{(o||l)&&(null==r?void 0:r.url)&&window.open(r.url,"_blank")},children:[(0,a.jsx)(i.$,{variant:"ghost",size:"icon",className:"absolute top-1 left-1 h-7 w-7 opacity-0 transition-opacity group-hover:opacity-100 z-10",onClick:e=>{e.stopPropagation(),c(!0)},children:(0,a.jsx)(M.A,{className:"h-4 w-4"})}),(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[g?(0,a.jsx)("img",{src:g,alt:"".concat(null==r?void 0:r.title," favicon"),className:"h-8 w-8 rounded-md"}):(0,a.jsx)("div",{className:"h-8 w-8 rounded-md bg-secondary flex items-center justify-center",children:(0,a.jsx)(S.A,{className:"h-5 w-5 text-secondary-foreground"})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-foreground break-words pr-8",children:null==r?void 0:r.title})]})}),(0,a.jsx)("div",{className:"flex items-center justify-end gap-2 pt-2",children:(o||l)&&(0,a.jsx)(O.A,{className:"h-4 w-4 shrink-0 text-muted-foreground/70"})})]})}},F="dark-knight-dashboard-layout",W={Clock:{width:280,height:150},Search:{width:280,height:150},Tabs:{width:280,height:150},Countdown:{width:280,height:150},Link:{width:280,height:180}};function Y(){let[e,t]=(0,n.useState)([]),[s,r]=(0,n.useState)(!1),[o,l]=(0,n.useState)(null),{toast:d}=(0,R.dj)();(0,n.useEffect)(()=>{r(!0);try{let e=localStorage.getItem(F);e?t(JSON.parse(e)):t([{id:"widget-".concat(Date.now()),type:"Clock",position:{x:100,y:100},size:W.Clock,isLocked:!1,backgroundDisabled:!1}])}catch(e){console.error("Failed to parse layout from localStorage",e),t([{id:"widget-default",type:"Clock",position:{x:100,y:100},size:W.Clock,isLocked:!1,backgroundDisabled:!1}])}},[]);let u=(0,n.useCallback)(e=>{let s={id:"widget-".concat(Date.now()),type:e,position:{x:50,y:50},size:W[e],isLocked:!1,backgroundDisabled:!1};t(e=>[...e,s])},[]),m=(0,n.useCallback)(e=>{t(t=>t.filter(t=>t.id!==e))},[]),f=(0,n.useCallback)((e,s)=>{t(t=>t.map(t=>t.id===e?{...t,position:s}:t))},[]),h=(0,n.useCallback)((e,s)=>{t(t=>t.map(t=>t.id===e?{...t,size:s}:t))},[]),g=(0,n.useCallback)((e,s)=>{t(t=>t.map(t=>t.id===e?{...t,data:{...t.data,...s}}:t))},[]),p=(0,n.useCallback)(e=>{t(t=>t.map(t=>t.id===e?{...t,isLocked:!t.isLocked}:t))},[]),x=(0,n.useCallback)(e=>{t(t=>t.map(t=>t.id===e?{...t,backgroundDisabled:!t.backgroundDisabled}:t))},[]);return s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E,{addWidget:u}),e.map(e=>{let t=$[e.type];return(0,a.jsx)(c,{widget:e,updateWidgetPosition:f,updateWidgetSize:h,toggleWidgetLock:p,toggleWidgetBackground:x,onDragStart:()=>l(e.id),onDragEnd:()=>l(null),children:t?(0,a.jsx)(t,{widget:e,updateWidgetData:t=>g(e.id,t)}):(0,a.jsx)("div",{children:"Unknown Widget"})},e.id)}),(0,a.jsxs)(i.$,{variant:"secondary",size:"lg",className:"absolute bottom-6 right-6 z-20 h-14 shadow-lg",onClick:()=>{localStorage.setItem(F,JSON.stringify(e)),d({title:"Layout Saved",description:"Your widget layout has been saved."})},children:[(0,a.jsx)(I.A,{className:"mr-2 h-5 w-5"}),"Save Layout"]}),(0,a.jsx)(U,{isDragging:!!o,onDrop:()=>{o&&m(o)}})]}):null}},7481:(e,t,s)=>{"use strict";s.d(t,{dj:()=>m});var a=s(2115);let n=0,r=new Map,o=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?o(s):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],d={toasts:[]};function c(e){d=l(d,e),i.forEach(e=>{e(d)})}function u(e){let{...t}=e,s=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function m(){let[e,t]=a.useState(d);return a.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},9434:(e,t,s)=>{"use strict";s.d(t,{cn:()=>r});var a=s(2596),n=s(9688);function r(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[817,710,532,441,684,358],()=>t(4917)),_N_E=e.O()}]);